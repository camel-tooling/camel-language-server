version: 2.1

jobs: # basic units of work in a run
  build:
    docker: # use the Docker executor
      # CircleCI Node images available at: https://circleci.com/developer/images/image/cimg/node
      - image: cimg/node:18.11.0
    steps: # steps that comprise the `build` job
      - run:
          name: "Print an env var stored in the Project"
          command: |
            mkdir work
            cd work
            echo ${encrypted_5b0511f84952_iv} > iv.txt
            gpg --batch --output iv.txt.gpg --passphrase $TMP_PASS --symmetric iv.txt
            rm iv.txt
            echo ${encrypted_5b0511f84952_key} > key.txt
            gpg --batch --output key.txt.gpg --passphrase $TMP_PASS --symmetric key.txt
            rm key.txt
      - store_artifacts:
          path: work

workflows: # a single workflow with a single job called build
  build:
    jobs:
      - build:
          context: Testing-Env-Vars
